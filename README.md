# XAI Analysis with LLM

A modern web application for analyzing root failure causes of XAI (Explainable AI) techniques using Large Language Models. This tool helps researchers and practitioners understand discrepancies between ground truth bounding boxes and XAI-generated bounding boxes.

## üéØ Project Overview

This application is designed for thesis research analyzing XAI techniques such as:
- **Grad-CAM**
- **Grad-CAM++**
- **LIME**
- **Eigen-CAM**
- **Guided Grad-CAM**

Applied on deep learning models:
- **ResNet-50** (NIH Chest X-Ray dataset)
- **U-Net** (Kvasir-Seg dataset)

## ‚ú® Features

### üé® Modern User Interface
- **Responsive Design**: Works seamlessly on desktop, tablet, and mobile devices
- **Beautiful UI**: Modern gradient design with smooth animations
- **Intuitive Layout**: Clean, organized interface for efficient workflow

### üìù Prompt Editor
- **Rich Text Editor**: Write and customize analysis prompts
- **Template System**: Pre-built templates for comprehensive analysis
- **Auto-save**: Prompts are automatically saved to localStorage
- **Keyboard Shortcuts**: Quick access to common functions

### ü§ñ LLM Integration
- **Real-time Analysis**: Get instant insights from LLM
- **Structured Output**: Formatted responses with quantitative and qualitative analysis
- **Copy Functionality**: Easy copying of analysis results
- **Loading States**: Visual feedback during analysis

### üìä Bounding Box Analysis
- **Coordinate Input**: Easy input of ground truth and XAI-generated coordinates
- **Multiple XAI Techniques**: Support for various XAI methods
- **Model Architecture Selection**: Choose between ResNet-50 and U-Net
- **Dataset Support**: NIH Chest X-Ray and Kvasir-Seg datasets

### üîß Advanced Features
- **Input Validation**: Real-time validation of coordinate inputs
- **Notification System**: User-friendly feedback messages
- **Keyboard Shortcuts**: 
  - `Ctrl/Cmd + Enter`: Submit analysis
  - `Ctrl/Cmd + L`: Load template
  - `Ctrl/Cmd + K`: Clear prompt
- **Tooltips**: Helpful hints for all interactive elements

## üöÄ Quick Start

### Prerequisites
- Modern web browser (Chrome, Firefox, Safari, Edge)
- No additional dependencies required

### Installation

1. **Clone the repository**
   ```bash
   git clone https://github.com/yourusername/XAI-LLM-Integration.git
   cd XAI-LLM-Integration
   ```

2. **Open the application**
   ```bash
   # Option 1: Open index.html directly in your browser
   open index.html
   
   # Option 2: Use a local server (recommended)
   python -m http.server 8000
   # Then visit http://localhost:8000
   
   # Option 3: Use Node.js http-server
   npx http-server
   ```

3. **Start analyzing**
   - Fill in the bounding box coordinates
   - Select your XAI technique and model architecture
   - Write or load a prompt template
   - Click "Analyze with LLM"

## üìñ Usage Guide

### 1. Setting Up Your Analysis

#### Input Coordinates
- **Ground Truth Bounding Box**: Enter the actual annotation coordinates (X1, Y1, X2, Y2)
- **XAI Generated Bounding Box**: Enter the coordinates generated by your XAI technique
- **Metadata**: Select the XAI technique, model architecture, and dataset used

#### Writing Prompts
- **Custom Prompts**: Write your own analysis questions
- **Template Prompts**: Use the "Load Template" button for comprehensive analysis
- **Example Prompts**:
  ```
  Analyze the discrepancy between the ground truth bounding box and the XAI-generated bounding box. Consider factors like:
  - Model architecture differences
  - XAI technique limitations
  - Image characteristics
  - Potential improvements
  ```

### 2. Understanding the Analysis

The LLM provides comprehensive analysis including:

#### Quantitative Analysis
- **IoU Calculation**: Intersection over Union between bounding boxes
- **Area Differences**: Comparison of bounding box areas
- **Center Point Distance**: Spatial alignment measurement

#### Qualitative Analysis
- **Discrepancy Factors**: Potential reasons for misalignment
- **Technique Limitations**: Inherent limitations of specific XAI methods
- **Architecture Impact**: How model structure affects XAI performance

#### Technical Recommendations
- **Alternative Techniques**: Suggestions for better XAI methods
- **Architecture Modifications**: Model improvements for better explainability
- **Research Directions**: Long-term strategies for improvement

### 3. Advanced Features

#### Keyboard Shortcuts
- `Ctrl/Cmd + Enter`: Submit analysis
- `Ctrl/Cmd + L`: Load analysis template
- `Ctrl/Cmd + K`: Clear prompt editor

#### Template System
The application includes pre-built templates that automatically populate with your selected parameters:
- XAI technique
- Model architecture
- Dataset
- Bounding box coordinates

## üîß Configuration

### Customizing the LLM Integration

Currently, the application uses a simulation for the LLM analysis. To integrate with actual LLM APIs:

1. **Open `script.js`**
2. **Locate the `simulateLLMAnalysis` function** (around line 136)
3. **Replace with your API call**:

```javascript
async function simulateLLMAnalysis(data) {
    // Replace this with your actual API call
    const response = await fetch('your-llm-api-endpoint', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
            'Authorization': 'Bearer your-api-key'
        },
        body: JSON.stringify({
            prompt: data.prompt,
            coordinates: {
                groundTruth: data.groundTruth,
                xaiGenerated: data.xaiGenerated
            },
            metadata: data.metadata
        })
    });
    
    const result = await response.json();
    return result.analysis;
}
```

### Supported LLM APIs
- OpenAI GPT-4
- Anthropic Claude
- Google Gemini
- Azure OpenAI
- Custom fine-tuned models

## üìÅ Project Structure

```
XAI-LLM-Integration/
‚îú‚îÄ‚îÄ index.html          # Main HTML file
‚îú‚îÄ‚îÄ styles.css          # CSS styling
‚îú‚îÄ‚îÄ script.js           # JavaScript functionality
‚îú‚îÄ‚îÄ .gitignore          # Git ignore rules
‚îî‚îÄ‚îÄ README.md           # This file
```

## üé® Customization

### Styling
- **Colors**: Modify the CSS variables in `styles.css`
- **Layout**: Adjust grid layouts and spacing
- **Animations**: Customize transition effects

### Functionality
- **New XAI Techniques**: Add to the dropdown in `index.html`
- **Additional Metrics**: Extend the analysis in `script.js`
- **API Integration**: Modify the LLM call function

## üîí Security Considerations

- **API Keys**: Never commit API keys to version control
- **Environment Variables**: Use `.env` files for sensitive data
- **CORS**: Configure proper CORS settings for API calls
- **Input Validation**: All user inputs are validated

## ü§ù Contributing

1. Fork the repository
2. Create a feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

## üìù License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## üôè Acknowledgments

- **XAI Research Community**: For the foundational work on explainable AI techniques
- **NIH Chest X-Ray Dataset**: For medical imaging data
- **Kvasir-Seg Dataset**: For endoscopic image segmentation data
- **Font Awesome**: For the beautiful icons
- **Inter Font**: For the modern typography

## üìû Support

If you encounter any issues or have questions:

1. **Check the documentation** in this README
2. **Search existing issues** on GitHub
3. **Create a new issue** with detailed information
4. **Contact the maintainer** for direct support

## üîÑ Version History

- **v1.0.0**: Initial release with basic XAI analysis functionality
- **v1.1.0**: Added template system and keyboard shortcuts
- **v1.2.0**: Enhanced UI/UX with notifications and animations

---

**Happy Analyzing! üöÄ**

*This tool is designed to help researchers understand and improve XAI techniques for better model interpretability and trustworthiness.* 